(this["webpackJsonppoloniex-chart-redux"]=this["webpackJsonppoloniex-chart-redux"]||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/coin_icon.a93f391b.png"},41:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},42:function(e,t,a){e.exports=a.p+"static/media/linkedin-icon.665e9e85.png"},45:function(e,t,a){e.exports=a(77)},72:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(10),u=a(19),l=a(2),s=a(11),p=a(12),d=a(13),m=a(21),b=a(15),h=a(14),f=a(5),E=a.n(f),g=a(16),O=a(24),v=a.n(O),j=function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.get("https://poloniex.com/public?command=returnTicker"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.get("".concat("https://poloniex.com/public?command=returnTradeHistory&currencyPair=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.get("".concat("https://poloniex.com/public?command=returnLoanOrders&currency=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return{type:"RECEIVE_POLONIEX_API_SUCCESS",data:e}},I=function(e){return{type:"RECEIVE_POLONIEX_API_FAILURE",error:e}},D=function(e){return{type:"RECEIVE_LOAN_ORDERS",data:e}},T=function(e){return{type:"RECEIVE_TRADE_HISTORY",data:e}},k=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_POLONIEX_API"}),e.abrupt("return",j().then((function(e){var a=e.data,n=Object.entries(a).sort((function(e,t){var a=Object(s.a)(e,2)[1];return Object(s.a)(t,2)[1].last-a.last})).reduce((function(e,t){return e[t[0]]=t[1],e}),[]);t(N(n))})).catch((function(e){return t(I(e))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=(a(72),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.filterCoinsByName;return r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"text",onChange:function(e){var n=e.target.value;return a(t,n.toUpperCase())},placeholder:"Digite um nome",className:"search-input"}))}}]),a}(n.Component)),R=Object(i.b)((function(e){return{data:e.data}}),(function(e){return{filterCoinsByName:function(t,a){return e(function(e,t){return{type:"FILTER_BY_NAME",filteredData:Object.entries(e).filter((function(e){var a=Object(s.a)(e,2),n=a[0];a[1];return n.match(t)})).reduce((function(e,t){return e[t[0]]=t[1],e}),[]),name:t}}(t,a))}}}))(S),B=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={page:0,pageNumber:1,field:"last",order:"DESC",previousButtonEnabled:!1},n.handleNextPage=n.handleNextPage.bind(Object(m.a)(n)),n.handlePreviousPage=n.handlePreviousPage.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCryptoData)()}},{key:"shouldComponentUpdate",value:function(e){return this.props.name!==e.name&&this.setState({page:0,pageNumber:1,previousButtonEnabled:!1}),!0}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.sortData,r=a.data,c=a.filteredData,o=this.state,i=o.field,u=o.order,l=Object.getOwnPropertyNames(c).length?c:r;t.field===i&&t.order===u||n(l,i,u)}},{key:"handlePreviousPage",value:function(){var e=this.state,t=e.pageNumber,a=e.page;this.setState({pageNumber:t-1,page:a-10}),t<=2&&this.setState({previousButtonEnabled:!1})}},{key:"handleNextPage",value:function(){var e=this.state,t=e.pageNumber,a=e.page;return this.setState({previousButtonEnabled:!0,pageNumber:t+1,page:a+10})}},{key:"renderTableHead",value:function(e){var t=this,a=this.state,n=a.field,c=a.order,o="DESC"===c?"\u25bc":"\u25b2";return r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-head-row"},r.a.createElement("th",{className:"table-head-cell"},"Criptomoedas"),Object.values(e).map((function(e){return Object.keys(e).map((function(e){return!["id","isFrozen","quoteVolume"].includes(e)&&r.a.createElement("th",{key:e,className:"table-head-cell"},r.a.createElement("button",{type:"button",onClick:function(){return t.setState({field:e,order:"ASC"===c?"DESC":"ASC"})}},"".concat(function(e){switch(e){case"last":return"\xdaltimo pre\xe7o";case"lowestAsk":return"Menor pre\xe7o atual";case"highestBid":return"Maior pre\xe7o atual";case"percentChange":return"Varia\xe7\xe3o (%)";case"baseVolume":return"Volume (24h)";case"high24hr":return"Maior pre\xe7o (24h)";case"low24hr":return"Menor pre\xe7o (24h)";default:return e}}(e)," ").concat(e===n?o:"")))}))}))[0]))}},{key:"renderTableBody",value:function(e){var t=this.state.page;return r.a.createElement("tbody",null,Object.entries(e).filter((function(e){var t=Object(s.a)(e,2),a=t[0];t[1];return a.startsWith("USDT")})).slice(t,t+10).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement("tr",null,r.a.createElement("td",{key:a},r.a.createElement(u.b,{to:"/poloniex-chart-redux/".concat(a.substring(5).toLowerCase())},a.substring(5))),Object.entries(n).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return!["id","isFrozen","quoteVolume"].includes(a)&&r.a.createElement("td",null,function(e,t){var a={minimumFractionDigits:4,style:"currency",currency:"BRL"};switch(e){case"last":case"lowestAsk":case"highestBid":return"".concat(Number(t).toLocaleString("pt-BR",a).substring(1));case"percentChange":return"".concat(parseFloat(100*t).toFixed(3),"%");case"baseVolume":case"high24hr":case"low24hr":return"".concat(Number(t).toLocaleString("pt-BR",a).substring(1));default:return t}}(a,n))})))})))}},{key:"renderPageButtons",value:function(e){var t=this.state,a=t.page,n=t.pageNumber,c=t.previousButtonEnabled;return r.a.createElement("section",{className:"table-buttons"},r.a.createElement("button",{type:"button",onClick:this.handlePreviousPage,className:"table-button",disabled:!c},"\u276e"),r.a.createElement("p",{className:"page-number"},n),r.a.createElement("button",{type:"button",onClick:this.handleNextPage,className:"table-button",disabled:a>=Object.keys(e).filter((function(e){return e.startsWith("USDT")})).length-10},"\u276f"))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.filteredData,c=e.isFetching,o=e.error,i=Object.getOwnPropertyNames(n).length>0?n:t;return c?r.a.createElement("div",{className:"spinner","data-testid":"loading"}):o?r.a.createElement("p",null,"Erro na conex\xe3o com a API. Verifique sua conex\xe3o."):r.a.createElement("section",{className:"main-table"},r.a.createElement(R,null),a.renderTableCaption(),Object.keys(i).length?r.a.createElement("table",{className:"rtable"},this.renderTableHead(i),this.renderTableBody(i)):r.a.createElement("p",null,"Moeda n\xe3o encontrada. Tente novamente."),this.renderPageButtons(i))}}],[{key:"renderTableCaption",value:function(){return r.a.createElement("p",{className:"table-caption"},"Os pre\xe7os exibidos est\xe3o em USDT",r.a.createElement("span",{className:"table-caption tooltip tooltip-top","data-tooltip":"USDT \xe9 sigla do USDT Tether, um token digital est\xe1vel e atrelado ao d\xf3lar americano (USD), ou seja, 1 USDT \xe9 equivalente a 1 USD."},"- O que \xe9 USDT?"))}}]),a}(n.Component);B.defaultProps={error:"",name:""};var C=Object(i.b)((function(e){return{data:e.data,filteredData:e.filteredData,isFetching:e.isFetching,name:e.filters.name,error:e.error}}),(function(e){return{fetchCryptoData:function(){return e(k())},sortData:function(t,a,n){return e(function(e,t,a){var n="ASC"===a?1:-1;return{type:"SORT_TABLE",data:Object.entries(e).sort((function(e,a){var r=Object(s.a)(e,2)[1],c=Object(s.a)(a,2)[1];return n*(r[t]-c[t])})).reduce((function(e,t){return e[t[0]]=t[1],e}),[]),field:t,order:a}}(t,a,n))}}}))(B),P=(a(74),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(p.a)(this,a);var r=(n=t.call(this,e)).props.location.pathname;return n.state={coin:r.substring(1).toUpperCase()},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.coin,t=this.props.getCoinLoanOrders;setTimeout(t(e),1e4)}},{key:"render",value:function(){var e=this.props,t=e.loanOrders,a=e.isFetching,n=e.error;if(a||!t.offers)return r.a.createElement("div",{className:"spinner","data-testid":"loading"});if(n)return r.a.createElement("p",null,"Erro na conex\xe3o com a API. Verifique sua conex\xe3o.");var c=t.offers.reduce((function(e,t,a,n){return(e+Number(t.amount))/n.length}),0),o=t.offers.reduce((function(e,t,a,n){return(e+Number(t.rate))/n.length}),0);return r.a.createElement("section",null,r.a.createElement("ul",null,"Oferta:",r.a.createElement("li",null,"Taxa de juros m\xe9dia (por dia):\xa0",o,"%"),r.a.createElement("li",null,"N\xfamero total de unidades dispon\xedveis (m\xe9dia):\xa0",c)))}}]),a}(n.Component));P.defaultProps={error:""};var w=Object(i.b)((function(e){return{loanOrders:e.loanOrders,isFetching:e.isFetching}}),(function(e){return{getCoinLoanOrders:function(t){return e(function(e){return function(){var t=Object(g.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y(e).then((function(e){var t=e.data;return a(D(t))})).catch((function(e){return a(I(e))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Object(l.f)(P)),x=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(p.a)(this,a);var r=(n=t.call(this,e)).props.location.pathname;return n.state={coin:r.slice(r.length-3).toUpperCase(),coinPair:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCryptoData)()}},{key:"render",value:function(){var e=this,t=this.state,a=t.coin,n=t.coinPair,c=this.props,o=c.data,i=c.getPairTradeHistory,u=c.tradeHistory,l=c.isFetching,s=c.error;return l?r.a.createElement("div",{className:"spinner","data-testid":"loading"}):s?r.a.createElement("p",null,"Erro na conex\xe3o com a API. Verifique sua conex\xe3o."):r.a.createElement("section",null,r.a.createElement("h2",null,function(e){switch(e){case"BTC":return"Bitcoin (BTC)";default:return e}}(a)),r.a.createElement("h3",null,"Ordens de empr\xe9stimo"),r.a.createElement(w,null),r.a.createElement("h3",null,"Hist\xf3rico de Negocia\xe7\xf5es"),r.a.createElement("section",{className:"selector-tradre-history"},r.a.createElement("span",{className:"selector-label"},"Selecione uma criptomoeda para ver o hist\xf3rico de negocia\xe7\xf5es entre as duas:"),r.a.createElement("select",{name:"coin",onChange:function(t){var a=t.target.value;return e.setState({coinPair:"".concat(a)})}},r.a.createElement("option",{value:"",label:"Selecionar"}),Object.keys(o).filter((function(e){return e.startsWith("".concat(a,"_"))})).map((function(e){return r.a.createElement("option",{value:e,key:e},e.replace("".concat(a,"_"),""))}))),r.a.createElement("button",{type:"button",className:"button-trade-history",onClick:function(){return i(n)},disabled:!n},"Exibir"),r.a.createElement("p",null,n.replace("_"," to ")),u.slice(0,5).map((function(e,t){return r.a.createElement("pre",{key:e.tradeID},"".concat(t+1,". ").concat(JSON.stringify(e,null,4)))}))))}}]),a}(n.Component);x.defaultProps={error:""};var M=Object(i.b)((function(e){return{data:e.data,tradeHistory:e.tradeHistory,isFetching:e.isFetching,error:e.error}}),(function(e){return{fetchCryptoData:function(){return e(k())},getPairTradeHistory:function(t){return e(function(e){return function(){var t=Object(g.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_POLONIEX_API"}),t.abrupt("return",A(e).then((function(e){var t=e.data;return a(T(t))})).catch((function(e){return a(I(e))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(x),U=a(40),F=a.n(U),L=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:F.a,className:"coin-icon",alt:"\xedcone com tr\xeas moedas sem preenchimento empilhadas"}),r.a.createElement("a",{href:"/poloniex-chart-redux",className:"header-link"},r.a.createElement("h1",{className:"header-title"},"Crypto",r.a.createElement("span",{style:{color:"#004AA0"}},"INFO"))))},Z=a(41),J=a.n(Z),W=a(42),Y=a.n(W),H=function(){return r.a.createElement("footer",null,r.a.createElement("p",{className:"footer-text"},"Criado por Guilherme Crespo"),r.a.createElement("a",{href:"https://github.com/guicgs",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:J.a,alt:"\xedcone do github",className:"footer-git-image"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/guicrespo/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:Y.a,alt:"\xedcone do linkedin",className:"footer-linkedin-image"})))};a(75);var G=function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(u.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/poloniex-chart-redux",component:C}),r.a.createElement(l.a,{path:"/poloniex-chart-redux/:coin",component:M}))),r.a.createElement(H,null))},V=a(18),X=a(43),Q=a(44),_=a(3),z={isFetching:!1,data:{},filteredData:{},filters:{name:"",field:"last",order:"DESC"},tradeHistory:[],loanOrders:{},error:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POLONIEX_API":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!0});case"RECEIVE_POLONIEX_API_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!1,data:t.data});case"RECEIVE_POLONIEX_API_FAILURE":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!1,error:t.error.toString()});case"FILTER_BY_NAME":return Object(_.a)(Object(_.a)({},e),{},{filteredData:t.filteredData,filters:Object(_.a)(Object(_.a)({},e.filters),{},{name:t.name})});case"SORT_TABLE":return Object(_.a)(Object(_.a)({},e),{},{filteredData:t.data,filters:Object(_.a)(Object(_.a)({},e.filters),{},{field:t.field})});case"RECEIVE_TRADE_HISTORY":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!1,tradeHistory:t.data});case"RECEIVE_LOAN_ORDERS":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!1,loanOrders:t.data});default:return e}},K=Object(V.createStore)(q,Object(X.composeWithDevTools)(Object(V.applyMiddleware)(Q.a)));a(76);o.a.render(r.a.createElement(i.a,{store:K},r.a.createElement(G,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.39d24ad3.chunk.js.map